# ğŸ”¥ Contents
>
1. ëª¨ë‹ˆí„°ë§ì´ë€?
2. ë¡œê¹…, ë©”íŠ¸ë¦­
3. ëª¨ë‹ˆí„°ë§ ë°©ì‹ Pull vs Push
4. ì¿ ë²„ë„¤í‹°ìŠ¤ ëª¨ë‹ˆí„°ë§
5. í”„ë¡œë©”í…Œìš°ìŠ¤ë€
6. í”„ë¡œë©”í…Œìš°ìŠ¤ 
7. ì¿ ë²„ë„¤í‹°ìŠ¤ í™˜ê²½ì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì´ìŠˆ ìƒí™©

# ğŸ“ŒMonitoring

ëª¨ë‹ˆí„°ë§ì€ IT ì‹œìŠ¤í…œì˜ í•µì‹¬ì ì¸ ë¶€ë¶„ì´ë‹¤. positioning problemì„ ë°œê²¬í•˜ê³  ì§€ì›í•˜ëŠ” ì—­í• ì„ ë‹´ë‹¹í•œë‹¤. 

ì „í†µì ì¸ O&Mì´ë“ , SREë“ , DevOpsë“ , ê°œë°œìë“¤ì€ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œì˜ êµ¬ì¶•ê³¼ ìµœì í™”ì— ê´€ì‹¬ì„ ê¸°ìš¸ì—¬ì•¼ í•œë‹¤.

ë©”ì¸í”„ë ˆì„ ìš´ì˜ì²´ì œì™€ ë¦¬ëˆ…ìŠ¤ ê¸°ë³¸ ì§€í‘œë¶€í„° ì‹œì‘í•´ì„œ, ì ì°¨ ë°œì „í•˜ê¸° ì‹œì‘í–ˆë‹¤.

ì´ì œ, ë‹¤ìŒê³¼ ê°™ì´ ë‹¤ì–‘í•œ ë²”ì£¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆëŠ” ìˆ˜ë°±ê°€ì§€ì˜ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œì´ ìˆë‹¤.

## Monitoring System Type

### Monitoring Object

>
ë²”ìš©: ì¼ë°˜ì ì¸ ëª¨ë‹ˆí„°ë§ ë°©ë²•, ëŒ€ë¶€ë¶„ì˜ ëª¨ë‹ˆí„°ë§ ëŒ€ìƒì— ì í•©
ì „ìš©: íŠ¹ì • ê¸°ëŠ¥ì— ë§ê²Œ ì»¤ìŠ¤í„°ë§ˆì´ì¦ˆëŒ. Java JMX ì‹œìŠ¤í…œ, CPU high-temperature protection, í•˜ë“œë””ìŠ¤í¬ ì „ì› ì¥ì•  ë³´í˜¸, UPS ìŠ¤ìœ„ì¹­ ì‹œìŠ¤í…œ, ìŠ¤ìœ„ì¹˜ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ, private line monitoring

### Data Acquistion Method

>
Push(CollectD, Zabbix ë° InlusionDB) vs Pull(Prometheus, SNMP ë° JMX)

### Deployment Mode

>
- Coupled(ê²°í•©í˜•, ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œê³¼ í•¨ê»˜ êµ¬ì¶•)
- Standalone(ë…ë¦½ì ìœ¼ë¡œ ì‹¤í–‰, ë‹¨ì¼ ì¸ìŠ¤í„´ìŠ¤ êµ¬ì¶•)
- Distributed(ë¶„ì‚°í˜•, ìˆ˜í‰ì  í™•ì¥ ê°€ëŠ¥)
- SaaS(êµ¬ì¶• ë¶ˆí•„ìš”)

### Commercial

>
Open-source and free of charge: (Prometheus ë° InlusionDB ë…ë¦½ ì‹¤í–‰í˜• ì—ë””ì…˜)
>
open-source commercial type(InlusionDB í´ëŸ¬ìŠ¤í„° ì—ë””ì…˜, Elastic Search X-Pack), 
>
closed-source commercial type(DataDog, Splunk, AWS Cloud Watch)

## ëª¨ë‹ˆí„°ë§ì˜ ë²”ì£¼

ê²°êµ­ ëŒ€ë¶€ë¶„ì˜ ëª¨ë‹ˆí„°ë§ì€ ë‹¨ í•œ ê°€ì§€, ì´ë²¤íŠ¸ì— ëŒ€í•œ ê²ƒì´ë‹¤. ì´ë²¤íŠ¸ì—ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì‚¬í•­ì„ ë¹„ë¡¯í•´ ê±°ì˜ ëª¨ë“  ê²ƒì´ í¬í•¨ëœë‹¤.

- HTTP ìš”ì²­ ìˆ˜ì‹ 
- HTTP 400 ì‘ë‹µ ì†¡ì‹ 
- í•¨ìˆ˜ ì‹œì‘
- if ë¬¸ì˜ elseì— ë„ë‹¬
- í•¨ìˆ˜ì¢…ë£Œ
- ì‚¬ìš©ì ë¡œê·¸ì¸
- ë””ìŠ¤í¬ì— ë°ì´í„° ì“°ê¸°
- ë„¤íŠ¸ì›Œí¬ì—ì„œ ë°ì´í„° ì½ê¸°
- ì»¤ë„ì— ì¶”ê°€ ë©”ëª¨ë¦¬ ìš”ì²­

ëª¨ë“  ì´ë²¤íŠ¸ì—ëŠ” ì»¨í…ìŠ¤íŠ¸ê°€ ìˆë‹¤. HTTP ìš”ì²­ì—ëŠ” ë“¤ì–´ì˜¤ê³  ë‚˜ê°€ëŠ” IP ì£¼ì†Œ, ìš”ì²­ URL, ì„¤ì •ëœ ì¿ ê¸°, ìš”ì²­í•œ ì‚¬ìš©ì ì •ë³´ê°€ ë“¤ì–´ìˆë‹¤.

ëª¨ë“  ì´ë²¤íŠ¸ì— ëŒ€í•œ ì»¨í…ìŠ¤íŠ¸ë¥¼ íŒŒì•…í•˜ë©´, ë””ë²„ê¹…ì— í° ë„ì›€ì´ ë˜ê³  ê¸°ìˆ ì ì¸ ê´€ì ê³¼ ë¹„ì¦ˆë‹ˆìŠ¤ ê´€ì  ëª¨ë‘ì—ì„œ ì‹œìŠ¤í…œì˜ ìˆ˜í–‰ ë°©ë²•ì„ ì´í•´í•  ìˆ˜ ìˆì§€ë§Œ, ì²˜ë¦¬ ë° ì €ì¥í•´ì•¼ í•˜ëŠ” ë°ì´í„° ì–‘ì´ ëŠ˜ì–´ë‚œë‹¤.

ë”°ë¼ì„œ, ë°ì´í„°ì˜ ì–‘ì„ ê°ì†Œì‹œí‚¬ ìˆ˜ ìˆëŠ” ë°©ë²•ìœ¼ë¡œ **í”„ë¡œíŒŒì¼ë§, íŠ¸ë ˆì´ì‹±, ë¡œê¹…, ë©”íŠ¸ë¦­ì˜ ë„¤ ê°€ì§€ê°€ ìˆë‹¤.**


### âœ” ë¡œê¹…

**Loggingì€ ì œí•œëœ ì´ë²¤íŠ¸ ì§‘í•©ì„ ì‚´í´ë³´ê³  ê° ì´ë²¤íŠ¸ì— ëŒ€í•œ ì»¨í…ìŠ¤íŠ¸ ì¼ë¶€ë¥¼ ê¸°ë¡í•œë‹¤. ì˜ˆë¥¼ ë“¤ë©´ ë¡œê¹…ì€ ìˆ˜ì‹ ë˜ëŠ” ëª¨ë“  HTTP ìš”ì²­ì´ë‚˜ ë°œì‹ ë˜ëŠ” ëª¨ë“  ë°ì´í„°ë² ì´ìŠ¤ í˜¸ì¶œ ê°™ì€ ì´ë²¤íŠ¸ë¥¼ ì‚´í´ë³´ê³  ê¸°ë¡í•œë‹¤. ìì›ì˜ ë‚­ë¹„ë¥¼ ë°©ì§€í•˜ë ¤ë©´ ë¡œê·¸ í•­ëª©ë³„ë¡œ ìˆ˜ë°± ê°œ ì •ë„ì˜ í•„ë“œ ê°œìˆ˜ë¥¼ ì œí•œí•´ì•¼ í•œë‹¤. ì´ì™¸ì—ë„ ëŒ€ì—­í­ê³¼ ì €ì¥ ì¥ì¹˜ê°€ ë¬¸ì œê°€ ë˜ê¸°ë„ í•œë‹¤.**

ì˜ˆë¥¼ ë“¤ì–´ ì´ˆë‹¹ ìˆ˜ì²œ ê°œì˜ ìš”ì²­ì„ ì²˜ë¦¬í•´ì•¼ í•˜ëŠ” ì„œë²„ì˜ ê²½ìš°, ë¡œê¹…ì„ ìœ„í•´ì„œë§Œ í•˜ë£¨ 84GBì˜ ì €ì¥ì†Œë¥¼ ì‚¬ìš©í•œë‹¤.(ê³„ì‚° ê³¼ì • ìƒëµ)

ë¡œê¹…ì˜ ê°€ì¥ í° ì¥ì ì€ ì¼ë°˜ì ìœ¼ë¡œ ì´ë²¤íŠ¸ì— ëŒ€í•œ ìƒ˜í”Œë§ì´ ì—†ë‹¤ëŠ” ì ì´ë‹¤. ë”°ë¼ì„œ í•„ë“œ ê°œìˆ˜ë¥¼ ì œí•œí•˜ë”ë¼ë„, ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ìš”ì²­ì´ íŠ¹ì • API ì—”ë“œí¬ì¸íŠ¸ì™€ í†µì‹ í•˜ëŠ” íŠ¹ì • ìœ ì €ì—ê²Œ ì–¼ë§ˆë‚˜ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ”ì§€ë¥¼ íŒë‹¨í•´ì•¼ í•œë‹¤.

ë¡œê¹…ì€ ë‹¤ìŒê³¼ ê°™ì´ ì¼ë°˜ì ì´ì§€ë§Œ ì¤‘ë³µë  ìˆ˜ ìˆëŠ” 4ê°€ì§€ ë²”ì£¼ë¡œ ë‚˜ë£° ìˆ˜ ìˆë‹¤.

#### íŠ¸ëœì­ì…˜ ë¡œê·¸

>
**ì–´ë– í•œ ëŒ€ê°€ë¥¼ ì¹˜ë¥´ë”ë¼ë„ ì˜ì›íˆ ì•ˆì „í•˜ê²Œ ë³´ê´€í•´ì•¼ í•˜ëŠ” ì¤‘ìš”í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ê¸°ë¡**ì´ë‹¤. ì£¼ë¡œ ë¹„ìš©ê³¼ ì—°ê´€ëœ ê¸°ëŠ¥ì´ë‚˜ ì‚¬ìš©ìê°€ ì§ì ‘ ì‚¬ìš©í•˜ëŠ” ì£¼ìš” ê¸°ëŠ¥ì´ íŠ¸ëœì­ì…˜ ë¡œê·¸ì— ì†í•œë‹¤.

#### ìš”ì²­ ë¡œê·¸

>
ëª¨ë“  HTTP ìš”ì²­ì´ë‚˜ ë°ì´í„°ë² ì´ìŠ¤ í˜¸ì¶œì„ ì¶”ì í•˜ëŠ” ê²½ìš°ì˜ ë¡œê·¸ë‹¤. ìš”ì²­ ë¡œê·¸ëŠ” ì‚¬ìš©ì ì§ì ‘ ì‚¬ìš©í•˜ëŠ” ê¸°ëŠ¥ì´ë‚˜ ë‚´ë¶€ ìµœì í™”ì˜ êµ¬í˜„ì— ì“°ì¼ ìˆ˜ ìˆë‹¤. ì‚¬ë¼ì§€ì§€ ì•Šìœ¼ë©´ ì¢‹ê² ì§€ë§Œ ì¼ë¶€ë¥¼ ìƒëŠ”ë‹¤ê³  í•´ì„œ í° ë¬¸ì œê°€ ë˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.

#### ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸

>
ëª¨ë“  ë¡œê·¸ê°€ ìš”ì²­ ë¡œê·¸ì¸ ê²ƒì€ ì•„ë‹ˆë©°, í”„ë¡œì„¸ìŠ¤ ê·¸ ìì²´ì— ëŒ€í•œ ë¡œê·¸ë„ ìˆë‹¤. ì‹œì‘ ë©”ì‹œì§€, ë°±ê·¸ë¼ìš´ë“œ ìœ ì§€ë³´ìˆ˜ ì‘ì—…, ê·¸ë¦¬ê³  ê·¸ ë°–ì— í”„ë¡œì„¸ìŠ¤ ìˆ˜ì¤€ì˜ ë¡œê·¸ë“¤ì´ ì „í˜•ì ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸ë‹¤. ì´ëŸ¬í•œ ë¡œê·¸ëŠ” ì£¼ë¡œ ì‚¬ëŒë“¤ì´ ì§ì ‘ ì½ê¸° ë•Œë¬¸ì—, ì •ìƒì ì¸ ë™ì‘ì—ì„œ 1ë¶„ë‹¹ ëª‡ ê°œ ì •ë„ê°€ ì ì ˆí•˜ë‹¤.

#### ë””ë²„ê·¸ ë¡œê·¸

>
ë””ë²„ê·¸ ë¡œê·¸ëŠ” êµ‰ì¥íˆ ìƒì„¸í•´ì„œ ìƒì„±ê³¼ ì €ì¥ì— ë¹„ìš©ì´ ë§ì´ ë“ ë‹¤. ë””ë²„ê·¸ ë¡œê·¸ëŠ” ì£¼ë¡œ ë§¤ìš° í˜‘ì†Œí•œ ë””ë²„ê¹… ìƒí™©ì—ë§Œ ì‚¬ìš©ë˜ë©°, ë°ì´í„°ì˜ ì–‘ ë•Œë¬¸ì— í”„ë¡œíŒŒì¼ë§ì˜ íŠ¹ì„±ì„ ë¤ë‹¤. ì‹ ë¢°ì„±ê³¼ ë³´ìœ  ìš”ê³ ìˆ˜í•­ì´ ë‚®ì€ í¸ì´ë©°, ê±°ì˜ ë””ë²„ê·¸ ë¡œê·¸ëŠ” ë¡œê·¸ê°€ ìƒì„±ëœ ë¨¸ì‹ ì—ì„œë§Œ ìœ ìš©í•˜ë‹¤.

ë¡œê¹… ì‹œìŠ¤í…œì˜ ì˜ˆë¡œëŠ” ELK ìŠ¤íƒê³¼ Graylog ë“±ì´ ìˆë‹¤.

### âœ” ë©”íŠ¸ë¦­

**ë©”íŠ¸ë¦­ì€ ì»¨í…ìŠ¤íŠ¸ë¥¼ ëŒ€ë¶€ë¶„ ë¬´ì‹œí•˜ê³  ë‹¤ì–‘í•œ ìœ í˜•ì˜ ì´ë²¤íŠ¸ì— ëŒ€í•´ ì‹œê°„ì— ë”°ë¥¸ ì§‘ê³„(aggregation)ë¥¼ ì¶”ì í•œë‹¤.** ìì› ì‚¬ìš©ì„ ì •ìƒì ìœ¼ë¡œ ìœ ì§€í•˜ë ¤ë©´, ì¶”ì í•˜ëŠ” ë©”íŠ¸ë¦­ì˜ ê°œìˆ˜ë¥¼ ì œí•œí•´ì•¼ í•œë‹¤. í”„ë¡œì„¸ìŠ¤ë‹¹ 1ë§Œ ê°œì˜ ë©”íŠ¸ë¦­ ì²˜ë¦¬ ì •ë„ê°€ í•©ë¦¬ì ì¸ ìƒí•œì„ ì¼ ê²ƒì´ë‹¤.

ì•„ë§ˆë„ ìš°ë¦¬ê°€ ê²½í—˜í•  ìˆ˜ ìˆëŠ” Metricìœ¼ë¡œëŠ” ìˆ˜ì‹ ëœ HTTP ìš”ì²­ íšŸìˆ˜, ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ë° ê±¸ë¦° ì‹œê°„, í˜„ì¬ ì§„í–‰ ì¤‘ì¸ ìš”ì²­ ìˆ˜ ë“±ì´ë‹¤. ì»¨í…ìŠ¤íŠ¸ ì •ë³´ë¥¼ ì œì™¸í•˜ë©´ í•„ìš”í•œ ë°ì´í„° ì–‘ê³¼ ì²˜ë¦¬ëŠ” í•©ë¦¬ì ì¸ ìˆ˜ì¤€ìœ¼ë¡œ ìœ ì§€ëœë‹¤.

**ë©”íŠ¸ë¦­ì„ ì´ìš©í•˜ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê° ì„œë¸Œì‹œìŠ¤í…œì—ì„œì˜ ëŒ€ê¸° ì‹œê°„ê³¼ ì²˜ë¦¬í•˜ëŠ” ë°ì´í„° ì–‘ì„ ì¶”ì í•´ì„œ ì„±ëŠ¥ ì €í•˜ì˜ ì›ì¸ì´ ì •í™•íˆ ë¬´ì—‡ì¸ì§€ ì†ì‰½ê²Œ ì•Œì•„ë‚¼ ìˆ˜ ìˆë‹¤. ë¡œê·¸ì— ë§ì€ í•„ë“œë¥¼ ê¸°ë¡í•  ìˆ˜ëŠ” ì—†ë‹¤. í•˜ì§€ë§Œ ì–´ë–¤ ì„œë¸Œì‹œìŠ¤í…œì— ë¬¸ì œì˜ ì›ì¸ì´ ìˆëŠ”ì§€ë¥¼ ì°¾ì•„ë‚¸ ë‹¤ìŒ, ë¡œê·¸ë¥¼ í†µí•´ í•´ë‹¹ ë¬¸ì œì— ê´€ë ¨ëœ ì‚¬ìš©ì ìš”ì²­ì„ ì •í™•í•˜ê²Œ íŒŒì•…í•  ìˆ˜ ìˆë‹¤.**

**ì´ ë¶€ë¶„ì´ ë¡œê·¸ì™€ ë©”íŠ¸ë¦­ ì‚¬ì´ì˜ ê· í˜•ì´ ê°€ì¥ ëª…í™•í•´ì§€ëŠ” ì§€ì ì´ë‹¤.** ë©”íŠ¸ë¦­ì€ í”„ë¡œì„¸ìŠ¤ ì „ë°˜ì— ê±¸ì³ ì´ë²¤íŠ¸ ì •ë³´ë¥¼ ìˆ˜ì§‘í•  ìˆ˜ ìˆì§€ë§Œ, ì¼ë°˜ì ìœ¼ë¡œ ì¹´ë””ë„ë¦¬í‹°ê°€ ì œí•œëœ ì»¨í…ìŠ¤íŠ¸ëŠ” 1~2ê°œ ì´ìƒì˜ í•„ë“œë¥¼ ê°–ì§€ ì•ŠëŠ”ë‹¤. ë¡œê·¸ëŠ” í•œ ê°€ì§€ ìœ í˜•ì˜ ì´ë²¤íŠ¸ì— ëŒ€í•´ ëª¨ë“  ì •ë³´ë¥¼ ìˆ˜ì§‘í•  ìˆ˜ ìˆì§€ë§Œ, ì¹´ë””ë„ë¦¬í‹°ê°€ ì œí•œë˜ì§€ ì•Šì€ ì»¨í…ìŠ¤íŠ¸ì— ëŒ€í•´ ìˆ˜ë°± ê°œ í•„ë“œë§Œ ì¶”ì í•  ìˆ˜ ìˆë‹¤. 

ì‹¬í”Œí•˜ê²Œ ìƒê°í•˜ë©´ ë©”íŠ¸ë¦­ì€ íŠ¹ì • ê¸°ì¤€ì— ëŒ€í•œ ìˆ˜ì¹˜ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤ë©´ ë¡œê·¸ëŠ” ì–´ë–¤ ì˜¤ë¥˜ì¸ì§€ íŒŒì•…í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” ë°ì´í„°ë¥¼ ì˜ë¯¸í•œë‹¤. ì˜ˆë¥¼ ë“¤ë©´ ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ ë ˆì´í„´ì‹œê°€ ë†’ì•„ì§€ëŠ” ìƒí™©ì„ ë©”íŠ¸ë¦­ì„ í†µí•´ íŒŒì•…í•œë‹¤ë©´ ì´ë¡œ ì¸í•´ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜ì— ëŒ€í•œ ë‚´ìš©ì„ íŒŒì•…í•˜ê¸° ìœ„í•´ì„œëŠ” ë¡œê·¸ë¥¼ ì‚¬ìš©í•œë‹¤.

ë©”íŠ¸ë¦­ ê¸°ë°˜ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œìœ¼ë¡œì„œ í”„ë¡œë©”í…Œìš°ìŠ¤ëŠ” ê°œë³„ ì´ë²¤íŠ¸ ë³´ë‹¤ëŠ” ì „ë°˜ì ì¸ ì‹œìŠ¤í…œì˜ ìƒíƒœì™€ ë™ì‘, ì„±ëŠ¥ì„ ì¶”ì í•˜ë„ë¡ ì„¤ê³„ë˜ì—ˆë‹¤. ë‹¤ì‹œ ë§í•´, í”„ë¡œë©”í…Œìš°ìŠ¤ëŠ” ì²˜ë¦¬í•˜ëŠ”ë° 4ì´ˆê°€ ê±¸ë¦° 15ê°œì˜ ìš”ì²­ì´ ë§ˆì§€ë§‰ 1ë¶„ ë™ì•ˆ ë°œìƒí–ˆê³ , ê²°ê³¼ì ìœ¼ë¡œ 40ë²ˆì˜ ë°ì´í„°ë² ì´ìŠ¤ í˜¸ì¶œê³¼ 17ë²ˆì˜ ìºì‹œ íˆíŠ¸ì™€ 2ê±´ì˜ ê³ ê° êµ¬ë§¤ê°€ ì¼ì–´ë‚¬ë‹¤ëŠ” ì‚¬ì‹¤ì—ë§Œ ì£¼ì˜ë¥¼ ê¸°ìš¸ì¸ë‹¤. ê° í˜¸ì¶œì— ê±¸ë¦° ë¹„ìš©ê³¼ ì½”ë“œ ê²½ë¡œëŠ” í”„ë¡œíŒŒì¼ë§ì´ë‚˜ ë¡œê¹…ì˜ ê´€ì‹¬ì‚¬í•­ì¼ ë¿ì´ë‹¤.

**ì»¨í…Œì´ë„ˆ ì¸í”„ë¼ í™˜ê²½ì—ì„œ metric êµ¬ë¶„**
  - system metrics: íŒŒë“œ ê°™ì€ ì˜¤ë¸Œì íŠ¸ì—ì„œ ì¸¡ì •ë˜ëŠ” CPUì™€ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ë‚˜íƒ€ë‚´ëŠ” ë©”íŠ¸ë¦­
  - service metrics: HTTP ìƒíƒœ ì½”ë“œ ê°™ì€ ì„œë¹„ìŠ¤ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë©”íŠ¸ë¦­


### í”„ë¡œíŒŒì¼ë§

í”„ë¡œíŒŒì¼ë§ì€ ìš°ë¦¬ê°€ ëª¨ë“  ì‹œê°„ì— ëŒ€í•´ ëª¨ë“  ì´ë²¤íŠ¸ì˜ ì»¨í…ìŠ¤íŠ¸ë¥¼ ê°€ì§ˆ ìˆ˜ ì—†ì§€ë§Œ, ì œí•œëœ ê¸°ê°„ì˜ ì¼ë¶€ ì»¨í…ìŠ¤íŠ¸ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆë‹¤ëŠ” ë°©ì‹ìœ¼ë¡œ ì ‘ê·¼í•œë‹¤.

í”„ë¡œíŒŒì¼ë§ì€ ìƒë‹¹íˆ ì „ëµì ì¸ ë””ë²„ê¹… ë°©ë²•ì´ë‹¤. ì˜¤ëœ ì‹œê°„ ë™ì•ˆ í”„ë¡œíŒŒì¼ë§ì„ í•´ì•¼í•˜ëŠ” ê²½ìš°, ë‹¤ë¥¸ ëª¨ë‹ˆí„°ë§ ë°©ë²•ê³¼ í•¨ê²Œ ì‚¬ìš©í•˜ë ¤ë©´ ë°˜ë“œì‹œ ë°ì´í„°ì˜ ì–‘ì„ ì¤„ì—¬ì•¼ í•œë‹¤.

### íŠ¸ë ˆì´ì‹±

Traicingì€ ëª¨ë“  ì´ë²¤íŠ¸ë¥¼ ì‚´í´ë³´ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ê´€ì‹¬ ê¸°ëŠ¥ì„ í†µê³¼í•˜ëŠ” ì¼ë¶€ ì´ë²¤íŠ¸ì²˜ëŸ¼ ìˆ˜ë°± ê°œì˜ ì´ë²¤íŠ¸ ì¤‘ íŠ¹ì • ì´ë²¤íŠ¸ì—ë§Œ ì§‘ì¤‘í•œë‹¤. íŠ¸ë ˆì´ì‹±ì€ ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ì—ì„œ ê´€ì‹¬ ìˆëŠ” ë¶€ë¶„ì˜ í•¨ìˆ˜ë“¤ì„ ê¸°ë¡í•˜ê³ , ë•Œë•Œë¡œ ì´ëŸ¬í•œ í•¨ìˆ˜ë“¤ì´ ì–¼ë§ˆë‚˜ ì˜¤ë«ë™ì•ˆ ìˆ˜í–‰ë˜ì—ˆëŠ”ì§€ë„ ê¸°ë¡í•œë‹¤. ì´ë¥¼ í†µí•´ í”„ë¡œê·¸ë¨ì´ ì–´ëŠ ë¶€ë¶„ì—ì„œ ì‹œê°„ì„ ì†Œë¹„í•˜ê³  ì–´ë–¤ ì½”ë“œ ê²½ë¡œê°€ ì§€ì—°ì— ê°€ì¥ í° ì˜í–¥ì„ ë¯¸ì¹˜ëŠ”ì§€ë¥¼ ì•Œ ìˆ˜ ìˆë‹¤.

íŠ¸ë ˆì´ì‹± ì‹œìŠ¤í…œ ì¤‘ ì¼ë¶€ëŠ” ê´€ì‹¬ ì§€ì ì—ì„œ ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ì— ìŠ¤ëƒ…ìƒ·ì„ ìˆ˜ì§‘í•˜ëŠ” ëŒ€ì‹ , ê´€ì‹¬ìˆëŠ” í•¨ìˆ˜ í•˜ìœ„ì˜ ëª¨ë“  í•¨ìˆ˜ í˜¸ì¶œì„ ì¶”ì í•˜ê³  íƒ€ì´ë°ì„ ê¸°ë¡í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ìˆ˜ë°± ê°œì˜ ì‚¬ìš©ì HTTP ìš”ì²­ ì¤‘ í•˜ë‚˜ë¥¼ ìƒ˜í”Œë§í•  ìˆ˜ ìˆê³ , ì´ ìš”ì²­ì— ëŒ€í•´ ë°ì´í„°ë² ì´ìŠ¤ë‚˜ ìºì‹œê°™ì€ ë°±ì—”ë“œì™€ í†µì‹ í•˜ëŠ” ë° ì–¼ë§ˆë‚˜ ì˜¤ëœ ì‹œê°„ì´ ì†Œë¹„ë˜ì—ˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ì´ë¥¼ í†µí•´ ìºì‹œ íˆíŠ¸ì™€ ìºì‹œ ë¯¸ìŠ¤ë¥¼ ë¹„êµí•´ì„œ íƒ€ì´ë°ì´ ì–¼ë§ˆë‚˜ ì°¨ì´ê°€ ë‚˜ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

íŠ¸ë ˆì´ì‹±ì—ì„œ ë°ì´í„° ë³¼ë¥¨ ìœ ì§€ ë° ê³„ì¸¡ ì„±ëŠ¥ì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ê²ƒì€ Sampling ì´ë‹¤.


# Metric ìˆ˜ì§‘ ë°©ì‹ì˜ ì´í•´ Push vs Pull

>
pull ê¸°ë°˜ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œì€ ëŠ¥ë™ì ìœ¼ë¡œ ì§€í‘œë¥¼ íšë“í•˜ëŠ” ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œìœ¼ë¡œ, ëª¨ë‹ˆí„°ë§ì´ í•„ìš”í•œ ì˜¤ë¸Œì íŠ¸ëŠ” ì›ê²©ìœ¼ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. 
>
push ê¸°ë°˜ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œì€ ëª¨ë‹ˆí„°ë§ì´ í•„ìš”í•œ ì˜¤ë¸Œì íŠ¸ê°€ ì ê·¹ì ìœ¼ë¡œ ì§€í‘œë¥¼ í‘¸ì‹œí•œë‹¤.
>
ë‘ ê°€ì§€ ë°©ë²•ì—ëŠ” ì—¬ëŸ¬ ì¸¡ë©´ì—ì„œ ì°¨ì´ì ì´ í¬ë‹¤. ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œì˜ êµ¬ì¶• ë° ì„ íƒì„ ìœ„í•´ì„œëŠ” ë‘ ê°€ì§€ ë°©ë²•ì˜ ì¥ë‹¨ì ì„ ë¯¸ë¦¬ ì´í•´í•˜ê³  ì ì ˆí•œ êµ¬í˜„ ë°©ì‹ì„ ì„ íƒí•´ì•¼ í•œë‹¤.

![](https://velog.velcdn.com/images/hyunshoon/post/3a57f3a3-5053-4aca-a45f-8d96194bcce5/image.png)

## Push(CollectD, Zabbix, InfulxDB)

>
ìˆ˜ì§‘ ì„œë²„ ì •ë³´ë¥¼ ì•Œì•„ì•¼ í•¨. agentì—ëŠ” ë°˜ë“œì‹œ system agentê°€ ì„¤ì¹˜ë˜ì•¼ í•˜ê³  agentëŠ” ì¤‘ì•™ì— ìˆëŠ” ì„œë²„ì— metricì„ ë³´ë‚´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ì„œë²„ì˜ end-point IPë¥¼ ì•Œì•„ì•¼ í•œë‹¤. metric ì •ë³´ê°€ ë³€ê²½ë  ë•Œ ë§ˆë‹¤ ì¬ ë°°í¬ í•´ì•¼ í•œë‹¤.

## Pull (Prometheus, SNMP, JMX)
>
pull ê¸°ë°˜ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œì€ ëŠ¥ë™ì ìœ¼ë¡œ ì§€í‘œë¥¼ íšë“í•œë‹¤. ëª¨ë‹ˆí„°ë§ì´ í•„ìš”í•œ ì˜¤ë¸Œì íŠ¸ëŠ” ì›ê²©ìœ¼ë¡œ ì ‘ê·¼ ê°€ëŠ¥í•´ì•¼ í•œë‹¤.
>
ë³´í†µ ìˆ˜ì§‘ ì„œë²„ì— ëŒ€í•œ ì •ë³´ë¥¼ agentë‚˜ ì„œë¹„ìŠ¤ë“¤ì´ ì•Œì§€ ëª»í•œë‹¤. í”„ë¡œë©”í…Œìš°ìŠ¤ëŠ” agentê°€ ë‚´ë¶€ metricì„ ë…¸ì¶œí•˜ê³ , í”„ë¡œë©”í…Œìš°ìŠ¤ ì¤‘ì•™ ì§‘ì¤‘í˜• ì»´í¬ë„ŒíŠ¸ê°€ metricì„ ìˆ˜ì§‘í•œ í›„ DBì— ì €ì¥í•œë‹¤.
>
ì¤‘ì•™ì§‘ì¤‘ì‹ ëª¨ë‹ˆí„°ë§ì´ì§€ë§Œ agentëŠ” ì„œë²„ì— ëŒ€í•œ ì •ë³´ë¥¼ ëª¨ë¥´ê³  ì™¸ë¶€ì—ì„œ exporterë‚˜ ë‹¤ë¥¸ ì •ë³´ë“¤ì´ metricì„ expose í•˜ëŠ” ê²ƒ
>
Service Discovery; k8sê°™ì€ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ íˆ´ì„ í†µí•´ ë¦¬ì†ŒìŠ¤ì— ìˆëŠ” ì •ë³´ë¥¼ ë‹¤ì´ë‚˜ë¯¹í•˜ê²Œ ê°€ì ¸ì˜¤ëŠ” ë°©ì‹

ì•„ë˜ ê·¸ë¦¼ì€ Pull vs Push Monitoring ì„ ë‹¤ì–‘í•œ ì¸¡ë©´ì—ì„œ ë¹„êµí•œ í‘œì´ë‹¤.
![](https://velog.velcdn.com/images/hyunshoon/post/5828d326-dc59-4dad-b99a-7fd37733d976/image.png)

Pullê³¼ Push ì— ëŒ€í•œ ìì„¸í•œ ë¹„êµëŠ” [ì—¬ê¸°](https://velog.io/@hyunshoon/Monitoring-Pull-vs-Push-%EB%8F%99%EC%9E%91-%EB%B0%A9%EC%8B%9D-%EB%B0%8F-%EC%9B%90%EB%A6%AC-%EC%9D%B4%ED%95%B4)ì— ì •ë¦¬ í–ˆë‹¤.

# ì¿ ë²„ë„¤í‹°ìŠ¤ ëª¨ë‹ˆí„°ë§

## k8s ëª¨ë‹ˆí„°ë§ ì»¨ì…‰
![](https://velog.velcdn.com/images/hyunshoon/post/44b28c37-b9f1-4564-90dd-c0daf4da9915/image.png)

>
ì¿ ë²„ë„¤í‹°ìŠ¤ ë…¸ë“œëŠ” kubeletì„ í†µí•´ íŒŒë“œë¥¼ ê´€ë¦¬í•˜ë©°, íŒŒë“œì˜ CPUë‚˜ ë©”ëª¨ë¦¬ ê°™ì€ ë©”íŠ¸ë¦­ ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ê¸° ìœ„í•´ kubeletì— ë‚´ì¥ëœ cAdvisorë¥¼ ì‚¬ìš©. cAdvisorëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„° ìœ„ì— ë°°í¬ëœ ì—¬ëŸ¬ ì»¨í…Œì´ë„ˆê°€ ì‚¬ìš©í•˜ëŠ” ë©”íŠ¸ë¦­ ì •ë³´ë¥¼ ìˆ˜ì§‘í•œ í›„ ì´ë¥¼ ê°€ê³µí•´ì„œ kubeletì— ì „ë‹¬í•˜ëŠ” ì—­í• .

## ëª¨ë‹ˆí„°ë§ ëŒ€ìƒ
>
1. host(node-exporter)
ë…¸ë“œì˜ CPU, ë©”ëª¨ë¦¬, ë””ìŠ¤í¬, ë„¤íŠ¸ì›Œí¬ ì‚¬ìš©ëŸ‰ê³¼ ë…¸ë“œ OSì™€ ì»¤ë„ì— ëŒ€í•œ ëª¨ë‹ˆí„°ë§
2. container(kubelet[cadvisor])
ë…¸ë“œì—ì„œ ê°€ë™ë˜ëŠ” ì»¨í…Œì´ë„ˆì— ëŒ€í•œ ì •ë³´. CPU, ë©”ëª¨ë¦¬, ë””ìŠ¤í¬, ë„¤íŠ¸ì›Œí¬ ì‚¬ìš©ëŸ‰ ë“±
3. app
ì»¨í…Œì´ë„ˆì•ˆì—ì„œ êµ¬ë™ë˜ëŠ” ê°œë³„ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì§€í‘œë¥¼ ëª¨ë‹ˆí„°ë§. ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì‘ë‹µì‹œê°„, HTTP ì—ëŸ¬ ë¹ˆë„ ë“±ì„ ëª¨ë‹ˆí„°ë§
4. kubernetes(etcd <- api -> kube-state-metrics)
ì¿ ë²„ë„¤í‹°ìŠ¤ ìì²´ì— ëŒ€í•œ ëª¨ë‹ˆí„°ë§. ì„œë¹„ìŠ¤ë‚˜ POD, ê³„ì • ì •ë³´ ë“±ì´ í•´ë‹¹

## ì¿ ë²„ë„¤í‹°ìŠ¤ ëª¨ë‹ˆí„°ë§ ì•„í‚¤í…ì³

ì¿ ë²„ë„¤í‹°ìŠ¤ ëª¨ë‹ˆí„°ë§ì„ ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ ì»´í¬ë„ŒíŠ¸ê°€ ì§ì ‘ í™œìš©í•˜ëŠ” ì •ë³´ì™€ ì´ë³´ë‹¤ ë§ì€ ì •ë³´ë¥¼ ìˆ˜ì§‘í•´ íˆìŠ¤í† ë¦¬/í†µê³„ ì •ë³´ë¥¼ ë³´ì—¬ì£¼ëŠ” ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ ê´€ì ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤. ì´ë¥¼ Resource Metrics Pipelineê³¼ Full Metrics Pipeline ìœ¼ë¡œ ë‚˜ëˆ ì„œ ì„¤ëª…í•œë‹¤.

>
**Resource Metrics Pipeline**
ì¿ ë²„ë„¤í‹°ìŠ¤ ì»´í¬ë„ŒíŠ¸ê°€ í™œìš©í•˜ëŠ” ë©”íŠ¸ë¦­ íë¦„. ìˆ˜ì§‘ëœ ì •ë³´ë¥¼ kubectl top ëª…ë ¹ìœ¼ë¡œ ë…¸ì¶œí•´ì£¼ê³ , ìŠ¤ì¼€ì¼ë§ì´ ì„¤ì •ë˜ì–´ ìˆë‹¤ë©´ ì˜¤í† ìŠ¤ì¼€ì¼ë§ì— í™œìš©. metrics-serverë¥¼ í†µí•´ ìˆ˜ì§‘ëœ ëª¨ë‹ˆí„°ë§ ì •ë³´ë¥¼ ë©”ëª¨ë¦¬ì— ì €ì¥í•˜ê³  API ì„œë²„ë¥¼ í†µí•´ ë…¸ì¶œí•´ kubectl top, scheduler, HPAì™€ ê°™ì€ ì˜¤ë¸Œì íŠ¸ì—ì„œ ì‚¬ìš©. ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ ì¼ë¶€ ê¸°ëŠ¥ì€ Metric Serverì˜ ì •ë³´ë¥¼ ì‚¬ìš©. ë‹¤ë§Œ, ìˆœê°„ì˜ ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆê³  ì¥ì‹œê°„ ì €ì¥í•˜ì§€ë„ ì•Šê¸° ë•Œë¬¸ì— Full Metrics Pipelineì´ í•„ìš”í•˜ë‹¤.
>
**Full Metrics Pipeline**
ë‹¤ì–‘í•œ ë©”íŠ¸ë¦­ì„ ìˆ˜ì§‘í•˜ê³ , ì´ë¥¼ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥. í”„ë¡œë©”í…Œìš°ìŠ¤ë¥¼ í†µí•´ ì„œë¹„ìŠ¤ ë””ìŠ¤ì»¤ë²„ë¦¬, ë©”íŠ¸ë¦­ ìˆ˜ì§‘(Retrieval) ë° ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤(TSDB)ë¥¼ í†µí•œ ì €ì¥, ì¿¼ë¦¬ ì—”ì§„ì„ í†µí•œ PromQL ì‚¬ìš©ê³¼ Alertmanagerë¥¼ í†µí•œ í†µë³´ê°€ ê°€ëŠ¥.
![](https://velog.velcdn.com/images/hyunshoon/post/b11567da-a0d8-47ea-8f11-ab2d572ef010/image.png)





# Prometheus

## Overview

í”„ë¡œë©”í…Œìš°ìŠ¤ëŠ” ë©”íŠ¸ë¦­ ê¸°ë°˜ì˜ ì˜¤í”ˆì†ŒìŠ¤ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œì´ë‹¤. 

í”„ë¡œë©”í…Œìš°ìŠ¤ê°€ ë§¡ì€ ì£¼ìš” ì„ë¬´ëŠ” ë©”íŠ¸ë¦­ ê¸°ë°˜ ëª¨ë‹ˆí„°ë§ì´ê³ , ì´ ì„ë¬´ë¥¼ ì˜ ìˆ˜í–‰í•œë‹¤. í”„ë¡œë©”í…Œìš°ìŠ¤ì—ëŠ” ë‹¨ìˆœí•˜ì§€ë§Œ ê°•ë ¥í•œ ë°ì´í„° ëª¨ë¸ê³¼ ì¿¼ë¦¬ì–¸ì–´(PromQL)ì´ ìˆìœ¼ë©°, ì´ë¥¼ í†µí•´ ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ì¸í”„ë¼ì˜ ì„±ëŠ¥ì„ ë¶„ì„í•  ìˆ˜ ìˆë‹¤. í”„ë¡œë©”í…Œìš°ìŠ¤ëŠ” ë©”íŠ¸ë¦­ì„ ì¸¡ì •í•  ë¿, ë©”íŠ¸ë¦­ ì´ì™¸ì˜ ë¬¸ì œëŠ” ë” ì ì ˆí•œ ë‹¤ë¥¸ ë„êµ¬ê°€ ì²˜ë¦¬í•˜ë„ë¡ ë‚¨ê²¨ë‘”ë‹¤.

í”„ë¡œë©”í…Œìš°ìŠ¤ëŠ” ê°„ë‹¨í•œ í…ìŠ¤íŠ¸ í˜•ì‹ì„ í†µí•´ ì‰½ê²Œ ë©”íŠ¸ë¦­ì„ ê²Œì‹œí•  ìˆ˜ ìˆë‹¤. ì˜¤í”ˆì†ŒìŠ¤ë‚˜ ë‹¤ë¥¸ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œë„ í”„ë¡œë©”í…Œìš°ìŠ¤ í…ìŠ¤íŠ¸ í˜•ì‹ì— ëŒ€í•œ ì§€ì›ì„ ì¶”ê°€í–ˆë‹¤. ì´ë¥¼ í†µí•´ ëª¨ë“  ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œì€ ê°ì ì£¼ìš” ê¸°ëŠ¥ì— ë” ì§‘ì¤‘í•  ìˆ˜ ìˆê²Œ ëë‹¤. ê° ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œì€ ì‚¬ìš©ìë“¤ì´ ëª¨ë‹ˆí„°ë§í•˜ë ¤ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ í•˜ë‚˜ í•˜ë‚˜ì— ëŒ€í•´ ì¼ì¼ì´ ì§€ì›í•˜ì§€ ì•Šì•„ë„ ë˜ëŠ” ê²ƒì´ë‹¤.

ë°ì´í„° ëª¨ë¸ì€ ì´ë¦„ë¿ ì•„ë‹ˆë¼ key-value ìŒìœ¼ë¡œ ì´ë¤„ì§„ labelë¡œ ë¹„ì •ë ¬ ì„¸íŠ¸ë¡œë„ ëª¨ë“  ì‹œê³„ì—´ì„ êµ¬ë³„í•œë‹¤. PromQL ì¿¼ë¦¬ ì–¸ì–´ë¡œ ì´ëŸ¬í•œ labelì¤‘ ì¼ë¶€ë¥¼ ì§‘ê³„í•  ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ **í”„ë¡œì„¸ìŠ¤ ë‹¨ìœ„ ë¿ ì•„ë‹ˆë¼ ë°ì´í„° ì„¼í„°ë³„ë¡œë„ ë¶„ì„í•  ìˆ˜ ìˆìœ¼ë©°**, ì„œë¹„ìŠ¤ ë‹¨ìœ„ë‚˜ ì§ì ‘ ì •ì˜í•œ ë‹¤ë¥¸ ë ˆì´ë¸”ì„ í†µí•´ì„œë„ ë¶„ì„ì´ ê°€ëŠ¥í•˜ë‹¤. ê²°ê³¼ëŠ” Grafana ê°™ì€ ëŒ€ì‹œë³´ë“œ ì‹œìŠ¤í…œì—ì„œ ë³¼ ìˆ˜ ìˆë‹¤.

**Alert**ëŠ” ê·¸ë˜í”„ ì‘ì„±ì— ì‚¬ìš©í•˜ëŠ” ê²ƒê³¼ ë™ì¼í•œ PromQL ì¿¼ë¦¬ ì–¸ì–´ë¡œ ì •ì˜í•  ìˆ˜ ìˆë‹¤. Lebelì„ ì‚¬ìš©í•˜ë©´ í•˜ë‚˜ì˜ ì•Œë¦¼ì—ì„œ ê°€ëŠ¥í•œ ëª¨ë“  ë ˆì´ë¸” ê°’ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì•Œë¦¼ì„ ë” ì‰½ê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.

ì´ ê°™ì€ ëª¨ë“  ê¸°ëŠ¥ê³¼ ì¥ì  ë•ë¶„ì— í”„ë¡œë©”í…Œìš°ìŠ¤ëŠ” ì„±ëŠ¥ì´ ì¢‹ìœ¼ë©° ì‹¤í–‰í•˜ê¸°ë„ ì‰½ë‹¤. í”„ë¡œë©”í…Œìš°ìŠ¤ ì„œë²„ í•œ ëŒ€ëŠ” ì´ˆë‹¹ ìˆ˜ë°±ë§Œ ê°œì˜ ë°ì´í„° ìƒ˜í”Œì„ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤. í”„ë¡œë©”í…Œìš°ìŠ¤ ì„œë²„ëŠ” êµ¬ì„± íŒŒì¼ê³¼ í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” ì •ì ìœ¼ë¡œ ë§í¬ëœ ë‹¨ì¼ ë°”ì´ë„ˆë¦¬ë‹¤. 

>
ì™œ í”„ë¡œë©”í…Œìš°ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ”ê°€?
>
1. ë©”íŠ¸ë¦­ ìˆ˜ì§‘ì„ ìœ„í•œ ì„œë²„ë‚˜ ì»¨í…Œì´ë„ˆ êµ¬ì„±/ì„¤ì¹˜ ë¶ˆí•„ìš”
2. ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë©”íŠ¸ë¦­ í‘¸ì‹œë¥¼ ìœ„í•´ CPU ì‚¬ìš©ì´ ë¶ˆí•„ìš”
3. ì¤‘ì•™ ì§‘ì¤‘ì‹ êµ¬ì„± ë° ê´€ë¦¬ ì½˜ì†” ì œê³µ
4. ì„œë¹„ìŠ¤ ì¥ì•  ë° ë¹„ê°€ë™ ìƒí™©ì„ gracefully ì²˜ë¦¬ ê°€ëŠ¥
5. ìˆ˜ì²œ, ìˆ˜ë§Œê°œì˜ ë©”íŠ¸ë¦­ì„ ì§ì ‘ ë³´ì§€ ì•Šê³  ì¿¼ë¦¬ë¥¼ í†µí•´ ê·¸ë•Œê·¸ë•Œ ë³´ê¸° ë•Œë¬¸ì— íŠ¸ë˜í”½ ë° ì˜¤ë²„í—¤ë“œ ê°ì†Œ
6. pull ë°©ì‹ì´ ë¶ˆê°€ëŠ¥í•  ê²½ìš° Pushgatewayë¡œ Push ë°©ì‹ ìˆ˜ì§‘ ê°€ëŠ¥




## PromQL
>
ë©”íŠ¸ë¦­ì„ ê²€ìƒ‰(retrive)í•˜ê¸° ìœ„í•œ ê³ ìœ í•œ ì¿¼ë¦¬ ì–¸ì–´
Instance: single unit/process (ex:ì„œë²„ ë‹¨ìœ„, CPU ì‚¬ìš©ëŸ‰)

## Promehteus Architecture
![](https://velog.velcdn.com/images/hyunshoon/post/86c8f399-d85a-4af3-b27e-6f44c9c5c219/image.png)



## Prometheus Metric Collections
>
### Metric Source
- Directly: Metric endpoint. ì„œë¹„ìŠ¤ì—ì„œ ë©”íŠ¸ë¦­ì„ ì œê³µí•˜ëŠ” ê²½ìš°(k8s, istio, docker)
- Exporter: Official & 3rd Party
>
![](https://velog.velcdn.com/images/hyunshoon/post/2073de20-f109-4dff-803e-5b1a2987a0f2/image.png)
>
## âœ” Prometheus Object
>
### **Prometheus-server**
í”„ë¡œë©”í…Œìš°ìŠ¤ì˜ ì£¼ìš” ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ëŠ” ìš”ì†Œë¡œ, 3ê°€ì§€ ì—­í• ì„ ë§¡ëŠ”ë‹¤. Node Exporter ì™¸ ì—¬ëŸ¬ ëŒ€ìƒì—ì„œ ê³µê°œëœ ë©”íŠ¸ë¦­ì„ ìˆ˜ì§‘í•´ ì˜¤ëŠ” ìˆ˜ì§‘ê¸°, ìˆ˜ì§‘í•œ ì‹œê³„ì—´ ë©”íŠ¸ë¦­ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤, ì €ì¥ëœ ë°ì´í„°ë¥¼ ì§ˆì˜í•˜ê±°ë‚˜ ìˆ˜ì§‘ ëŒ€ìƒì˜ ìƒíƒœë¥¼ í™•ì¸í•  ìˆ˜ ìˆëŠ” ì›¹ UI.
>
### **Node Exporter**
ë…¸ë“œì˜ ì‹œìŠ¤í…œ ë©”íŠ¸ë¦­ ì •ë³´ë¥¼ HTTPë¡œ ê³µê°œí•˜ëŠ” ì—­í• . ì„¤ì¹˜ëœ ë…¸ë“œì—ì„œ íŠ¹ì • íŒŒì¼ë“¤ì„ ì½ê³ , ì´ë¥¼ í”„ë¡œë©”í…Œìš°ìŠ¤ ì„œë²„ê°€ ìˆ˜ì§‘í•  ìˆ˜ ìˆëŠ” ë©”íŠ¸ë¦­ ë°ì´í„°ë¡œ ë³€í™˜í•œ í›„ì— ë…¸ë“œ ìµìŠ¤í¬í„°ì—ì„œ HTTP ì„œë²„ë¡œ ê³µê°œ.
- HW, OS ë©”íŠ¸ë¦­ ìˆ˜ì§‘
- CPU, Memory, Disk, FileSystem
- vmstat, netstat, iostat, /proc/~
>
### **kubelet (cAdvisor)**
- ê°œë³„ ì»¨í…Œì´ë„ˆ ë©”íŠ¸ë¦­
>
### **kube-state-metric**
- API ì„œë²„ë¥¼ í†µí•´ ì˜¤ë¸Œì íŠ¸ ìƒíƒœì— ê´€í•œ ë©”íŠ¸ë¦­ì„ ìƒì„±í•˜ëŠ” ë„êµ¬ (deployment, Pod ë“±)
>
>
### Client Library
>
ë©”íŠ¸ë¦­ì€ ëˆ„êµ°ê°€ ë©”íŠ¸ë¦­ì„ ë§Œë“¤ê¸° ìœ„í•œ ê³„ì¸¡ ì½”ë“œë¥¼ ì¶”ê°€í•´ì•¼í•œë‹¤. ì´ ë¶€ë¶„ì„ ê´€ì—¬í•˜ëŠ” ê²ƒì´ í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë‹¤. ì½”ë“œë¡œ ë©”íŠ¸ë¦­ì„ ì •ì˜í•˜ê³ , ì œì–´í•˜ë ¤ëŠ” ì½”ë“œì— ì¸ë¼ì¸ìœ¼ë¡œ ì›í•˜ëŠ” ê³„ì¸¡ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤. ì´ë¥¼ ì§ì ‘ ê³„ì¸¡ì´ë¼ê³  í•œë‹¤.
>
í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ëª¨ë“  ì£¼ìš” ì–¸ì–´ì™€ ëŸ°íƒ€ì„ì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. Go, Python ë“± ì£¼ìš” ì–¸ì–´ëŠ” í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì œê³µí•œë‹¤. Node.js, Erlang ê°™ì€ ë‹¤ì–‘í•œ ì„œë“œíŒŒí‹° í´ë¼ì´ì–¸íŠ¸ë„ ìˆë‹¤.
>
í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ìŠ¤ë ˆë“œ ì•ˆì •ì„±, bookkepping, HTTP ìš”ì²­ì— ëŒ€í•œ ì‘ë‹µìœ¼ë¡œ í”„ë¡œë©”í…Œìš°ìŠ¤ í…ìŠ¤íŠ¸ ê²Œì‹œ í˜•ì‹ ìƒì„± ê°™ì€ ëª¨ë“  í•µì‹¬ ì„¸ë¶€ì‚¬í•­ì„ ì²˜ë¦¬í•œë‹¤. ë©”íŠ¸ë¦­ ê¸°ë°˜ ëª¨ë‹ˆí„°ë§ì€ ê°œë³„ ì´ë²¤íŠ¸ë¥¼ ì¶”ì í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•œë‹¤ê³  í•´ì„œ ì´ë²¤íŠ¸ê°€ ë” ëŠ˜ì–´ë‚˜ì§€ëŠ” ì•ŠëŠ”ë‹¤. ì˜¤íˆë ¤ ë©”ëª¨ë¦¬ëŠ” ì‚¬ìš©í•˜ëŠ” ë©”íŠ¸ë¦­ ê°œìˆ˜ì™€ ê´€ë ¨ëœë‹¤.
>
### Exporter
>
ëŒ€ë¶€ë¶„ ì‹œìŠ¤í…œ ì»¤ë„ ê°™ì€ ì†Œí”„íŠ¸ì›¨ì–´ì—ëŠ” ë©”íŠ¸ë¦­ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ì¸í„°í˜ì´ìŠ¤ê°€ ìˆë‹¤.
>
ìµìŠ¤í¬í„°ëŠ” ê°€ì ¸ì˜¤ê³  ì‹¶ì€ ë©”íŠ¸ë¦­ì„ ì• í”Œë¦¬ì¼€ì´ì…˜ ë°”ë¡œ ì˜†ì— ë°°ì¹˜í•˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ë‹¤. ìµìŠ¤í¬í„°ëŠ” í”„ë¡œë©”í…Œìš°ìŠ¤ë¡œë¶€í„° ìš”ì²­ì„ ë°›ì•„ì„œ, ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ìš”ì²­ëœ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ê³ , ë°ì´í„°ë¥¼ ì˜¬ë°”ë¥¸ í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•œ ë‹¤ìŒ, ë§ˆì§€ë§‰ìœ¼ë¡œ í”„ë¡œë©”í…Œìš°ìŠ¤ì— ëŒ€í•œ ì‘ë‹µìœ¼ë¡œ ë°ì´í„°ë¥¼ ë°˜í™˜í•œë‹¤. ìµìŠ¤í¬í„°ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë©”íŠ¸ë¦­ ì¸í„°í˜ì´ìŠ¤ë¥¼ í”„ë¡œë©”í…Œìš°ìŠ¤ì˜ ê²Œì‹œ í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ì¼ëŒ€ì¼ ë°©ì‹ì˜ ì‘ì€ í”„ë¡ì‹œë¼ê³  ìƒê°í•´ë„ ì¢‹ë‹¤.

## Metric Collections ì™¸ Object
>
**alert manger**: alert ê·œì¹™ì„ ì„¤ì •í•˜ê³  ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´ ë©”ì‹œì§€ë¥¼ ëŒ€ìƒì—ê²Œ ì „ë‹¬í•˜ëŠ” ê¸°ëŠ¥
**pushgateway**: ë°°ì¹˜ì™€ ìŠ¤ì¼€ì¤„ ì‘ì—… ì‹œ ìˆ˜í–‰ë˜ëŠ” ì¼íšŒì„± ì‘ì—…ë“¤ì˜ ìƒíƒœë¥¼ ì €ì¥í•˜ê³  ëª¨ì•„ì„œ í”„ë¡œë©”í…Œìš°ìŠ¤ê°€ ì£¼ê¸°ì ìœ¼ë¡œ ê°€ì ¸ê°ˆ ìˆ˜ ìˆë„ë¡ ê³µê°œ

### Prometheus Metric Target - ë©”íŠ¸ë¦­ì„ ìˆ˜ì§‘í•  íƒ€ê²Ÿì„ ì–´ë–»ê²Œ ì •í•˜ëŠ”ê°€?

#### ğŸ‘ Service Discovery

í”„ë¡œë©”í…Œìš°ìŠ¤ëŠ” ìˆ˜ì§‘ ëŒ€ìƒì„ ìë™ìœ¼ë¡œ ì¸ì‹í•˜ê³  í•„ìš”í•œ ì •ë³´ë¥¼ ìˆ˜ì§‘í•œë‹¤. 

ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ë ¤ë©´ ì¼ë°˜ì ìœ¼ë¡œ ì—ì´ì „íŠ¸ë¥¼ ì„¤ì •í•´ì•¼ í•˜ì§€ë§Œ, ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ì‚¬ìš©ìê°€ ì—ì´ì „íŠ¸ì— ì¶”ê°€ë¡œ ì…ë ¥í•  í•„ìš” ì—†ì´ ìë™ìœ¼ë¡œ ë©”íŠ¸ë¦­ì„ ìˆ˜ì§‘í•  ìˆ˜ ìˆë‹¤. 

ì´ëŠ” í”„ë¡œë©”í…Œìš°ìŠ¤ ì„œë²„ê°€ ìˆ˜ì§‘ ëŒ€ìƒì„ ê°€ì ¸ì˜¤ëŠ” ë°©ë²•ì¸ **ì„œë¹„ìŠ¤ ë””ìŠ¤ì»¤ë²„ë¦¬** ë•ë¶„ì´ë‹¤.

**Service Discovery Process**
>
1. í”„ë¡œë©”í…Œìš°ìŠ¤ ì„œë²„ëŠ” ì»¨í”¼ê·¸ë§µì— ê¸°ë¡ëœ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ ëŒ€ìƒì„ ì½ì–´ì˜¨ë‹¤.
2. ì½ì–´ì˜¨ ëŒ€ìƒì— ëŒ€í•œ ë©”íŠ¸ë¦­ì„ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ API ì„œë²„ì— ì •ë³´ ìš”ì²­
3. ìš”ì²­ì„ í†µí•´ ì•Œì•„ì˜¨ ê²½ë¡œë¡œ ë©”íŠ¸ë¦­ ë°ì´í„°ë¥¼ ìˆ˜ì§‘

ì´ì™€ ê°™ì€ ìˆœì„œë¡œ í”„ë¡œë©”í…Œìš°ìŠ¤ ì„œë²„ì™€ API ì„œë²„ê°€ ì£¼ê¸°ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ì•„ ìˆ˜ì§‘ ëŒ€ìƒì„ ì—…ë°ì´íŠ¸í•˜ê³ , ìˆ˜ì§‘ ëŒ€ìƒì—ì„œ ê³µê°œë˜ëŠ” ë©”íŠ¸ë¦­ì„ ìë™ìœ¼ë¡œ ìˆ˜ì§‘í•œë‹¤.

ì¿ ë²„ë„¤í‹°ìŠ¤ê°€ ë‚˜ì˜¨ í›„ dynamicí•œ ë¦¬ì†ŒìŠ¤ ê´€ë¦¬ë¥¼ í”„ë¡œë©”í…Œìš°ìŠ¤ê°€ í•  ìˆ˜ ìˆì–´ì„œ í­ë°œì ìœ¼ë¡œ ì„±ì¥ ê°€ëŠ¥í–ˆë‹¤.


### Kubernetes Components Metrics

ETCD í¬í•¨ Kubernetesì˜ ëª¨ë“  ì»´í¬ë„ŒíŠ¸ëŠ” Prometheusì˜ metric í˜•íƒœë¡œ ì—”ë“œí¬ì¸íŠ¸ ì œê³µ. Prometheus ì˜ scrape ì„¤ì •ë§Œìœ¼ë¡œ metric ìˆ˜ì§‘ì´ ê°€ëŠ¥
![](https://velog.velcdn.com/images/hyunshoon/post/34484f14-a98c-4e28-8954-f272cc55b696/image.png)


### Prometheus Alerting & Alertmanager
![](https://velog.velcdn.com/images/hyunshoon/post/e7e9dfe7-4174-4389-a9ab-ad7999805f76/image.png)

### Prometheus Visualization

Grafana Dashboard - Many Wellmade Charts

#### Grafana Dashboard

### í”„ë¡œë©”í…Œìš°ìŠ¤ ì œì•½ ì¡°ê±´

- ì›ì‹œ ë¡œê·¸ / ì´ë²¤íŠ¸ ìˆ˜ì§‘ ë¶ˆê°€: Loki, Elastic Stack
- ìš”ì²­ ì¶”ì  ë¶ˆê°€: OpenMetrics, OpenCensus

### Prometheus Security
- TLS ì ìš©


## ë¬´ì—‡ì„ ëª¨ë‹ˆí„°ë§í•´ì•¼ í• ê¹Œ?
ì¿ ë²„ë„¤í‹°ìŠ¤ í™˜ê²½ì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì´ìŠˆ ìƒí™© ì˜ˆì‹œ
>
1. íŠ¹ì • ë…¸ë“œê°€ ë‹¤ìš´ë˜ê±°ë‚˜ Ready ìƒíƒœê°€ ì•„ë‹Œ ê²½ìš°
2. ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ì˜ ì£¼ìš” ì»´í¬ë„ŒíŠ¸ ìƒíƒœê°€ ë¹„ì •ìƒì ì¸ ê²½ìš°
3. ë…¸ë“œì˜ ê°€ìš©í•œ ë¦¬ì†ŒìŠ¤ë³´ë‹¤ ë¦¬ì†ŒìŠ¤ ìš”ì²­ëŸ‰(Request)ê°€ ì»¤ì„œ íŒŒë“œê°€ ë°°í¬ë˜ì§€ ì•ŠëŠ” ê²½ìš°
4. ë…¸ë“œ ë¦¬ì†ŒìŠ¤ê°€ ë¶€ì¡±í•˜ì—¬ ì»¨í…Œì´ë„ˆì˜ í¬ë˜ì‹œ(í˜¹ì€ eviction)ê°€ ë°œìƒí•œ ê²½ìš°
5. íŠ¹ì • ì»¨í…Œì´ë„ˆê°€ OOMKilledë‚˜ ê·¸ ë°–ì˜ ë¬¸ì œë¡œ ì¸í•´ ë°˜ë³µì ìœ¼ë¡œ ì¬ì‹œì‘í•˜ëŠ” ê²½ìš°
6. PVë¡œ í• ë‹¹í•˜ì—¬ ë§ˆìš´íŠ¸ëœ íŒŒì¼ì‹œìŠ¤í…œì˜ ìš©ëŸ‰ì´ ë¶€ì¡±í•œ ê²½ìš°

### í´ëŸ¬ìŠ¤í„° êµ¬ì„±ìš”ì†Œ(ë…¸ë“œ ë° ì£¼ìš” ì»´í¬ë„ŒíŠ¸)ì˜ ìƒíƒœ
>
ì¿ ë²„ë„¤í‹°ìŠ¤ ìì²´ë¥¼ ëª¨ë‹ˆí„°ë§. í´ëŸ¬ìŠ¤í„°ì˜ ì£¼ìš” ì»´í¬ë„ŒíŠ¸ì™€ ë”ë¶ˆì–´ ë…¸ë“œì˜ ìƒíƒœë„ í™•ì¸ í•„ìš”. ê°ê° Healthy, Ready ìƒíƒœì—¬ì•¼ í•œë‹¤.

### ë…¸ë“œì˜ ë¦¬ì†ŒìŠ¤ ê°€ìš©ëŸ‰
>
ì „ì²´ ë…¸ë“œì— ê°€ìš©í•œ ë¦¬ì†ŒìŠ¤(Allocatable)ê°€ íŒŒë“œì˜ ìš”ì²­ëŸ‰(Request)ë³´ë‹¤ ë¶€ì¡±í•˜ë©´ íŒŒë“œê°€ ë” ì´ìƒ ìŠ¤ì¼€ì¤„ë§ ë˜ì§€ ëª»í•œë‹¤. í•„ìš”í•œ  ê²½ìš° ë…¸ë“œ ë¦¬ì†ŒìŠ¤ë¥¼ ì¦ì„¤í•˜ê±°ë‚˜, ë…¸ë“œë¥¼ ì¶”ê°€í•´ì•¼ í•œë‹¤. ê°€ì¥ ì‰¬ìš´ ë°©ë²•ì€ ë…¸ë“œ ìƒíƒœë¥¼ í™•ì¸í•˜ì—¬ Allocated resources ë¶€ë¶„ì˜ ê° CPUì™€ ë©”ëª¨ë¦¬ ìš”ì²­(Request)ì— ëŒ€í•œ í¼ì„¼í‹°ì§€ í™•ì¸ ê°€ëŠ¥

### ë…¸ë“œì˜ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰
>
ë…¸ë“œì˜ MemoryPressure, DiskPressureê°€ ë°œìƒí•˜ëŠ” ê²½ìš° ë…¸ë“œì˜ ì»¨ë””ì…˜ì´ ë³€ê²½ë˜ê³  íŒŒë“œ evictionì´ ë°œìƒí•œë‹¤. ì¼ì • ìˆ˜ì¤€ ì´ìƒìœ¼ë¡œ ë…¸ë“œì˜ ë¦¬ì†ŒìŠ¤ê°€ ìœ ì§€ë˜ë„ë¡ ëª¨ë‹ˆí„°ë§ì´ í•„ìš”í•˜ë‹¤.

### Workload ì´ìŠˆ
>
ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë¡œì„¸ìŠ¤ ë‹¤ìš´ ëª¨ë‹ˆí„°ë§. íŒŒë“œì— ì ì ˆí•œ liveness probeê°€ ì„¤ì •ë˜ì–´ ìˆëŠ” ê²½ìš°, í˜¹ì€ OOMKilled ë˜ëŠ” ê²½ìš°ëŠ” ì»¨í…Œì´ë„ˆì˜ ì¬ì‹œì‘ íšŸìˆ˜(Restart Count)ê°€ ì§€ì†ì ìœ¼ë¡œ ì¦ê°€í•˜ëŠ”ì§€ ëª¨ë‹ˆí„°ë§í•´ ë³¼ ìˆ˜ ìˆë‹¤.


Reference

- https://velog.io/@mng_jn/0809%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4-%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81-%ED%94%84%EB%A1%9C%EB%A9%94%ED%85%8C%EC%9A%B0%EC%8A%A4-%EA%B7%B8%EB%9D%BC%ED%8C%8C%EB%82%98 : ì¿ ë²„ë„¤í‹°ìŠ¤ ëª¨ë‹ˆí„°ë§ í”„ë¡œë©”í…Œìš°ìŠ¤, ê·¸ë¼íŒŒë‚˜ 
- https://www.alibabacloud.com/blog/pull-or-push-how-to-select-monitoring-systems_599007: Monitoring push vs pull
- https://www.youtube.com/watch?v=_bI_WcBc4ak: Prometheus Project Journey
- https://devthomas.tistory.com/24: ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ ìš´ì˜ê¸°
- https://leoh0.github.io/post/2018-10-09-kubernetes-prometheus-metric-aggregation-by-daemonset-statefulset-deployment-walkthrough/: Kubernetes Prometheus Metric Aggregation by Daemonset, Statefulset, Deployment Walkthrough
- https://www.samsungsds.com/kr/insights/kubernetes_monitoring.html: ì‚¼ì„±SDS- ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„° ìš´ì˜ìë¥¼ ìœ„í•œ ëª¨ë‹ˆí„°ë§ 
í”„ë¡œë©”í…Œìš°ìŠ¤ ì˜¤í”ˆì†ŒìŠ¤ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ
- https://sphong0417.tistory.com/30 
