## 프로젝트 주제 설명

### HA (고가용성)

고가용성은 시스템이 지정된 시간 동안 장애 없이 계속 작동할 수 있는 능력이다.

고가용성이 구축되어 있는 환경이라면 서비스 다운 타임이 거의 없는 환경이다.

이러한 고가용성 환경을 구축하기 위해 이번 프로젝트에서는 3중화를 진행할 예정이다.

---

### 설계

아래 이미지는 템플릿의 아키텍처 디자인을 나타낸다.

![image](https://user-images.githubusercontent.com/72699541/200768697-22e2e536-f724-415f-865f-5eb75d33e23f.png)


다음 설계는, 3개의 AZ(Availability Zone)가 존재하고, 각각의 존에 프라이빗 서브넷과 퍼블릭 서브넷이 있는 VPC 를 생성한다.

위에 그림에는 그려져 있지 않지만, 각 퍼블릭 서브넷에는 Application Load Balancer 에 연결된 EC2 인스턴스 (bastion) 가 포함되어 있다.

VPC에는 인터넷 게이트웨이와 퍼블릭 및 프라이빗 서브넷용 라우팅 테이블이 존재한다.

### Auto Scaling

특정 상황이 되면 자동으로 scale 을 확장하도록 설정하는 것이다.

탄력적인 서비스의 확장과 축소가 가능하다.

쿠버네티스 환경에서 일정 이상의 cpu, ram,disk 가 초과되면 pod를 더이상 올리지 못하고 pending 상태가 된다.

이때 실시간 모니터링을 통해 AWS가 이러한 상황을 확인하고, desired capacity를 개수를 변경하고, 새로운 EC2 인스턴스 (worker node) 를 만들고, pod들이 이 worker node 에 스케줄링 된다.

사용한 EC2 인스턴스에 대해서만 비용을 지불하므로, 인스턴스가 필요할 때 이를 시작하고 필요 없어지면 종료함으로써 비용을 절감할 수 있다.

### 삼중화

삼중화는 하나의 zone 에서 문제가 생기더라도 서비스가 진행되는 데에는 문제없도록 하기 위한 구성이다. master노드에 etcd 관련 기능을 사용할 예정인데, 이는 1차 완성 이후 고도화 작업에서 진행할 예정이라 다음에 다루도록 하겠다.
